<%include base/head.ejs %>
    <style>
        body {
            padding: 20px;
        }
        .create-competition .form-control {
            width: 300px;
            margin-top: 10px;
            margin-bottom: 10px;
        }
    </style>
  </head>  
  <body>
    <div class="create-competition">
        <h3>新建辩题</h3>
        <label for="competitionTitle">辩题</label>
        <input type="text" class="form-control" id="title">
        <label for="status">状态</label>
        <input type="text" class="form-control" id="status">
        <label for="votes">获得票数</label>
        <input type="number" class="form-control" id="votes">
        <label for="clicks">点击量</label>
        <input type="number" class="form-control" id="clicks">
        <label for="clicks">创建时间</label>
        <input type="date" class="form-control" id="createdAt">
        <label for="pro">正方辩手（用,分隔id）</label>
        <input type="text" class="form-control" id="pro">
        <label for="con">反方辩手（用,分隔id）</label>
        <input type="text" class="form-control" id="con">
        <button class="btn btn-primary">创建</button>
    </div>
    <div class="get-hot">
        <h3>本周热点</h3>
        <button class="btn btn-primary">获取本周热点</button>
    </div>
    <div class="get-list">
        <h3>榜单</h3>
        <select style="width: 80px; height: 25px;">
            <option value ="0">上周</option>
            <option value ="1">近3月</option>
            <option value="2">本年</option>
            <option value="3">所有</option>
        </select>
        <br>
        <label for="currentPage">要获取的页数</label>
        <input type="number" class="form-control" id="currentPage">
        <button class="btn btn-primary">获取榜单</button>
    </div>
    <div class="get-recommend">
        <h3>推荐</h3>
        <button class="btn btn-primary">获取推荐</button>
    </div>
    <div class="get-new">
        <h3>新辩题立场投票</h3>
        <button class="btn btn-primary">获取新辩题</button>
    </div>
    <div class="enter-competition">
        <h3>进入辩论赛</h3>
        <label for="competitionId">辩论赛id</label>
        <input type="text" class="form-control" id="competitionId">
        <button class="btn btn-primary">获取辩论赛信息</button>
    </div>
    <%include base/footer.ejs %>
    <script src="/javascripts/loginAndRegister.js"></script>
    <script>
        $(function() {
            $('.create-competition .btn').click(function() {
                var title = $('#title').val();
                var status = $('#status').val();
                var votes = $('#votes').val();
                var clicks = $('#clicks').val();
                var createdAt = $('#createdAt').val();
                var pro = $('#pro').val();
                var con = $('#con').val();
                var query = {
                    title: title,
                    status: status,
                    votes: votes,
                    clicks: clicks,
                    createdAt: createdAt,
                    proDebaters: pro,
                    conDebaters: con
                };
                $.post(config.prefixPath + '/competition/create', query, function(result, status) {
                    console.log(result);
                });
            });
            $('.get-list .btn').click(function() {
                var timeRange = $('.get-list select option:selected').val();
                var currentPage = $('#currentPage').val();
                console.log(timeRange);
                console.log(currentPage);
                $.post(config.prefixPath + '/competition/getList', {timeRange: timeRange, currentPage: currentPage}, function(result, status) {
                    console.log(result);
                });
            });
            $('.get-recommend .btn').click(function() {
                $.get(config.prefixPath + '/competition/getRecommend', function(result, status) {
                    console.log(result);
                });
            });
            $('.get-hot .btn').click(function() {
                $.get(config.prefixPath + '/competition/getHot', function(result, status) {
                    console.log(result);
                });
            });
            $('.get-new .btn').click(function() {
                $.get(config.prefixPath + '/competition/getNew', function(result, status) {
                    console.log(result);
                });
            });
            $('.enter-competition .btn').click(function() {
                var competitionId = $('#competitionId').val();
                $.post(config.prefixPath + '/competition/detail', {compId: competitionId}, function(result, status) {
                    console.log(result);
                });
            });
        });
    </script>
  </body>
</html>